<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;700&family=JetBrains+Mono:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap"
    rel="stylesheet"
  />

  <!-- mathjax -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [['$','$'], ['\\(','\\)']],
              processEscapes: true

      }

    });
  </script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
    type="text/javascript"
  ></script>

  <!-- favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href=/~sano/icons/apple-touch-icon.png /> <link rel="icon"
  type="image/png" sizes="32x32" href=/~sano/icons/favicon-32x32.png /> <link rel="icon" type="image/png" sizes="16x16"
  href=/~sano/icons/favicon-16x16.png /> <link rel="manifest"
  href=/~sano/icons/site.webmanifest /> <link rel="mask-icon"
  href=/~sano/icons/safari-pinned-tab.svg color="#5bbad5" />
  <meta name="msapplication-TileColor" content="#da532c" />
  <meta name="theme-color" content="#ffffff" />

  <!-- jekyll --><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>A hands-on tutorial about Lambda GT | Jin SANO</title>
<meta name="generator" content="Jekyll v3.9.1" />
<meta property="og:title" content="A hands-on tutorial about Lambda GT" />
<meta name="author" content="sano" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Master’s student at Department of Computer Science and Communications Engineering, Waseda University, Japan." />
<meta property="og:description" content="Master’s student at Department of Computer Science and Communications Engineering, Waseda University, Japan." />
<link rel="canonical" href="http://localhost:4000/~sano/2022/10/04/lambda-gt-tutorial.html" />
<meta property="og:url" content="http://localhost:4000/~sano/2022/10/04/lambda-gt-tutorial.html" />
<meta property="og:site_name" content="Jin SANO" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-04T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="A hands-on tutorial about Lambda GT" />
<script type="application/ld+json">
{"url":"http://localhost:4000/~sano/2022/10/04/lambda-gt-tutorial.html","author":{"@type":"Person","name":"sano"},"headline":"A hands-on tutorial about Lambda GT","dateModified":"2022-10-04T00:00:00+09:00","datePublished":"2022-10-04T00:00:00+09:00","description":"Master’s student at Department of Computer Science and Communications Engineering, Waseda University, Japan.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/~sano/2022/10/04/lambda-gt-tutorial.html"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/~sano/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/~sano/feed.xml" title="Jin SANO" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/~sano/">Jin SANO</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/~sano/about/">About</a><a class="page-link" href="/~sano/blog/">Blog</a><a class="page-link" href="/~sano/">Jin SANO</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">A hands-on tutorial about Lambda GT</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-10-04T00:00:00+09:00" itemprop="datePublished">Oct 4, 2022
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">sano</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://github.com/sano-jin/lambda-gt-alpha/tree/master/"><img src="https://img.shields.io/badge/github-%40lambda%20gt%20alpha-yellow?style=flat-square" alt="Repository" /></a>
<a href="#license"><img src="https://img.shields.io/badge/license-MIT-yellow?style=flat-square" alt="License" /></a>
<a href="https://twitter.com/sano65747676"><img src="https://img.shields.io/badge/twitter-%40sano65747676-blue?style=flat-square" alt="Twitter" /></a></p>

<p><img src="https://raw.githubusercontent.com/sano-jin/lambda-gt-alpha/master/docs/graphs-image.svg" alt="examples of graphs" /></p>

<p>Graphs are a generalized concept that encompasses more complex data structures than trees,
such as difference lists, doubly-linked lists, skip lists, and leaf-linked trees.
Normally, these structures are handled with destructive assignments to heaps,
as opposed to a purely functional programming style.</p>

<p>We propose a new purely functional language, λGT,
that handles graphs as immutable, first-class data structures with
a pattern matching mechanism based on Graph Transformation.</p>

<p>We implemented a reference interpreter, a reference implementation of the language.
We believe this is usable for further investigation, including in the design of real languages based on λGT.
The interpreter is written in only 500 lines of OCaml code.</p>

<p>We also have <a href="https://sano-jin.github.io/lambda-gt-online/">a visualizing tool that runs on a browser</a>.</p>

<h2 id="getting-started">Getting Started</h2>

<h3 id="prerequisites">Prerequisites</h3>

<ul>
  <li><a href="https://opam.ocaml.org/">opam</a></li>
</ul>

<h3 id="installation">Installation</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/sano-jin/lambda-gt-alpha.git
<span class="nb">cd </span>lambda-gt-alpha
opam <span class="nb">install</span> <span class="nb">.</span>
dune build
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./run example/dlist.lgt
</code></pre></div></div>

<p>which will result in <code class="language-plaintext highlighter-rouge">{_Y &gt;&lt; _X}</code>.</p>

<p>See <a href="example">/example</a> for more examples.</p>

<h2 id="syntax">Syntax</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Expression     e ::= { T }                                  // graph
                  |  e1 e2                                  // application
                  |  case e1 of e2 -&gt; e3 | otherwise -&gt; e4  // case expression

Graph Template T ::= v (_X1, ..., _Xn)                      // atom
                  |  _X &gt;&lt; _Y                               // fusion
                  |  x [_X1, ..., _Xn]                      // graph context
                  |  (T, T)                                 // molecule
                  |  nu _X. T                               // link creation

Atom Name      v ::= Constr                                 // constructor name
                  |  &lt;\ x [_X1, ..., _Xn]. e&gt;               // lambda abstraction
</code></pre></div></div>

<p>For the syntax and semantics, please see
<a href="http://jssst.or.jp/files/user/taikai/2022/papers/20-L.pdf">the paper[1]</a>.</p>

<ul>
  <li>
    <p>We have enabled logging.</p>

    <div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nc">Log</span><span class="p">}</span> <span class="n">exp</span>
</code></pre></div>    </div>

    <p>evaluates <code class="language-plaintext highlighter-rouge">exp</code>, prints the value, and results in the value.</p>
  </li>
</ul>

<h2 id="development">Development</h2>

<p><img src="https://raw.githubusercontent.com/sano-jin/lambda-gt-alpha/master/docs/dependency.svg" alt="dependency graph" /></p>

<p>Please give me issues or pull requests if you find any bugs or solutions for them.</p>

<p>We aim to build the simplest implementation.
Thus, we may not accept a request for an enhancement.
However, we appreciate it because it will be helpful in the design and implementation
of the <em>real</em> language based on this POC.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">File</th>
      <th style="text-align: right">LOC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">parser/parser.mly</td>
      <td style="text-align: right">67</td>
    </tr>
    <tr>
      <td style="text-align: left">parser/lexer.mll</td>
      <td style="text-align: right">51</td>
    </tr>
    <tr>
      <td style="text-align: left">eval/eval.ml</td>
      <td style="text-align: right">47</td>
    </tr>
    <tr>
      <td style="text-align: left">eval/syntax.ml</td>
      <td style="text-align: right">42</td>
    </tr>
    <tr>
      <td style="text-align: left">eval/match_ctxs.ml</td>
      <td style="text-align: right">37</td>
    </tr>
    <tr>
      <td style="text-align: left">eval/match_atoms.ml</td>
      <td style="text-align: right">36</td>
    </tr>
    <tr>
      <td style="text-align: left">eval/preprocess.ml</td>
      <td style="text-align: right">33</td>
    </tr>
    <tr>
      <td style="text-align: left">eval/pushout.ml</td>
      <td style="text-align: right">33</td>
    </tr>
    <tr>
      <td style="text-align: left">eval/postprocess.ml</td>
      <td style="text-align: right">24</td>
    </tr>
    <tr>
      <td style="text-align: left">parser/syntax.ml</td>
      <td style="text-align: right">16</td>
    </tr>
    <tr>
      <td style="text-align: left">parser/parse.ml</td>
      <td style="text-align: right">10</td>
    </tr>
    <tr>
      <td style="text-align: left">eval/match.ml</td>
      <td style="text-align: right">9</td>
    </tr>
    <tr>
      <td style="text-align: left">bin/main.ml</td>
      <td style="text-align: right">3</td>
    </tr>
    <tr>
      <td style="text-align: left">SUM:</td>
      <td style="text-align: right">408</td>
    </tr>
  </tbody>
</table>

<h3 id="bin"><a href="bin">/bin</a></h3>

<p>Entry point</p>

<table>
  <thead>
    <tr>
      <th>File</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="bin/main.ml">main.ml</a></td>
      <td>Read a file and execute the program.</td>
    </tr>
  </tbody>
</table>

<h3 id="eval"><a href="eval">/eval</a></h3>

<p>Evaluator</p>

<table>
  <thead>
    <tr>
      <th>File</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="eval/syntax.ml">syntax.ml</a></td>
      <td>Syntax of atoms as an list.</td>
    </tr>
    <tr>
      <td><a href="eval/preprocess.ml">preprocess.ml</a></td>
      <td>Transform an AST graph to a list of atoms. Alpha convert link names.</td>
    </tr>
    <tr>
      <td><a href="eval/eval.ml">eval.ml</a></td>
      <td>The evaluator.</td>
    </tr>
    <tr>
      <td><a href="eval/match.ml">match.ml</a></td>
      <td>Matches atoms and graph contexts and returns the obtained graph substitutions.</td>
    </tr>
    <tr>
      <td><a href="eval/match_atoms.ml">match_atoms.ml</a></td>
      <td>Matches atoms and returns the link mappings and the rest graph.</td>
    </tr>
    <tr>
      <td><a href="eval/postprocess.ml">postprocess.ml</a></td>
      <td>Transform the link names in the rest graphs and supply fusions according to the link mappings.</td>
    </tr>
    <tr>
      <td><a href="eval/match.ml">match_ctxs.ml</a></td>
      <td>Matches graph contexts and returns the obtained graph substitutions.</td>
    </tr>
    <tr>
      <td><a href="eval/pushout.ml">pushout.ml</a></td>
      <td>Substitute graph contexts with the given graph substitution (rewriting after matching).</td>
    </tr>
  </tbody>
</table>

<h3 id="parser"><a href="parser">/parser</a></h3>

<p><em>Lexical/Syntax analyzer</em></p>

<table>
  <thead>
    <tr>
      <th>File</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="parser/syntax.ml">syntax.ml</a></td>
      <td>AST definition</td>
    </tr>
    <tr>
      <td><a href="parser/lexer.mll">lexer.mll</a></td>
      <td>Defines a token for lexing</td>
    </tr>
    <tr>
      <td><a href="parser/parser.mly">parser.mly</a></td>
      <td>Defines a grammar for parsing</td>
    </tr>
    <tr>
      <td><a href="parser/parse.ml">parse.ml</a></td>
      <td>Parser</td>
    </tr>
  </tbody>
</table>

<h2 id="citation">Citation</h2>

<ol>
  <li>(<a href="http://jssst.or.jp/files/user/taikai/2022/papers/20-L.pdf">pdf</a>,
<a href="https://www.ueda.info.waseda.ac.jp/~sano/materials/jssst2022.pdf">slide</a>)
A functional language with graphs as first-class data,
In Proc. The 39th JSSST Annual Conference, 2022
(15pp. unreferred).
    <details><summary>Abstract</summary><div>
  Graphs are a generalized concept that encompasses more complex data structures than trees,
  such as difference lists, doubly-linked lists, skip lists, and leaf-linked trees. Normally, these structures are handled
  with destructive assignments to heaps, as opposed to a purely functional programming style. We proposed
  a new purely functional language, λGT, that handles graphs as immutable, first-class data structures with
  a pattern matching mechanism based on Graph Transformation. Since graphs can be more complex than
  trees and require non-trivial formalism, the implementation of the language is also more complicated than
  ordinary functional languages. λGT is even more advanced than the ordinary graph transformation systems.
  We implemented a reference interpreter, a reference implementation of the language. We believe this
  is usable for further investigation, including in the design of real languages based on λGT. The interpreter
  is written in only 500 lines of OCaml code.
</div></details>
  </li>
  <li>(<a href="https://arxiv.org/abs/2209.05149">arXiv</a>,
<a href="https://www.ueda.info.waseda.ac.jp/~sano/materials/pro2022.pdf">slide</a>)
Type checking data structures more complex than tree,
to be appeared in Journal of Information Processing, 2022 (19pp. refferred).
    <details><summary>Abstract</summary><div>
  Graphs are a generalized concept that encompasses more complex data structures than trees,
  such as difference lists, doubly-linked lists, skip lists, and leaf-linked trees.
  Normally, these structures are handled with destructive assignments to heaps,
  which is opposed to a purely functional programming style and makes verification difficult.
  We propose a new
  purely functional language, \\(\lambda_{GT}\\), that handles graphs as immutable,
  first-class data structures with a pattern matching mechanism
  based on Graph Transformation and developed a new type system, \\(F_{GT}\\), for the language.
  Our approach is in contrast with the analysis of pointer manipulation programs
  using separation logic, shape analysis, etc. in that
  (i) we do not consider destructive operations
  but pattern matchings over graphs provided by the new higher-level language that
  abstract pointers and heaps away and that
  (ii) we pursue what properties can be established automatically using a rather simple typing framework.
</div></details>
  </li>
</ol>

<h2 id="contact">Contact</h2>

<p>Please feel free to contact me (ask me any questions about this).</p>

<ul>
  <li><a href="https://twitter.com/sano65747676">twitter@sano65747676</a></li>
  <li><a href="https://www.ueda.info.waseda.ac.jp/~sano/">homepage</a></li>
</ul>

<h2 id="license">License</h2>

<p>MIT</p>


  </div><a class="u-url" href="/~sano/2022/10/04/lambda-gt-tutorial.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/~sano/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Jin SANO</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Jin SANO</li><li><a class="u-email" href="mailto:sano@ueda.info.waseda.ac.jp">sano@ueda.info.waseda.ac.jp</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/sano-jin"><svg class="svg-icon"><use xlink:href="/~sano/assets/minima-social-icons.svg#github"></use></svg> <span class="username">sano-jin</span></a></li><li><a href="https://www.twitter.com/sano65747676"><svg class="svg-icon"><use xlink:href="/~sano/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">sano65747676</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Master&#39;s student at Department of Computer Science and Communications Engineering,  Waseda University, Japan.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
